Metadata-Version: 2.4
Name: penta-dragon-dx
Version: 0.1.0
Summary: Colorization toolkit for Penta Dragon (GB to GBC)
Author: Your Name
Requires-Python: >=3.11
Description-Content-Type: text/markdown
Requires-Dist: click>=8.1
Requires-Dist: Pillow>=10.0
Requires-Dist: numpy>=1.26
Requires-Dist: PyYAML>=6.0

# Penta Dragon DX (GB → GBC Colorization Toolkit)

This project aims to produce a non-invasive colorized enhancement ("DX" style) for the original monochrome Game Boy game "Penta Dragon" by generating a distributable patch (IPS/BPS) that adds Game Boy Color palette data and optional minor UX improvements while preserving original gameplay logic.

## Key Goals
- Reverse engineer graphics/tile/palette relevant sections of the ROM.
- Define per-scene / sprite / UI palette assignments for Game Boy Color.
- Inject palette initialization code executed on GBC hardware (without breaking DMG compatibility if possible).
- Export a clean patch (IPS or BPS) – never distribute the original ROM.
- Document methodology for repeatable, transparent modding.

## High-Level Workflow
1. Acquire a legally owned ROM dump of Penta Dragon (do not commit it). Place it in `rom/original/penta.gb`.
2. Run `penta-colorize verify` to confirm hash & expected size.
3. Disassemble using tools (e.g. `mgbdis` or `rgbds`) to identify tile data, bank layouts, and VRAM update routines.
4. Map tile groups → logical entities (player, enemies, HUD, backgrounds).
5. Design GBC palettes (YAML in `palettes/`) referencing 4-color entries (GBC expands DMG shades).
6. Implement injection routine: hook into VBlank or init sequence to load palette data into CGB registers (BCPS/BCPD, OCPS/OCPD) or via DMA.
7. Build patch using `penta-colorize build-patch` producing `dist/penta-dragon-dx.ips`.
8. Test in SameBoy / BGB / Gambatte ensuring no glitches and fallback DMG compatibility.

## Directory Structure
```
rom/                # (gitignored) original & working ROM copies
src/                # Python tooling & pipeline scripts
palettes/           # Palette definition YAML files
docs/               # Research notes, memory maps
dist/               # Generated patches (output)
```

## Tooling Choices
- Python scripts for automation (palette processing, patch emission).
- `click` for CLI UX.
- `Pillow` + `numpy` (optional) for visual tile diffing / palette experimentation.
- `PyYAML` for palette configuration.

## Legal & Ethical Note
You must supply your own legitimately obtained ROM. This repository MUST NEVER include copyrighted ROM data. Only derived patch files (which contain differences) are distributed.

## Roadmap (Initial)
- [ ] Basic ROM loader & verifier
- [ ] Tile block scanner heuristic
- [ ] Palette tagging system
- [ ] Injection stub assembly routine
- [ ] IPS output + test harness
- [ ] Enhanced docs: memory map & bank index

## Patch Format
We start with IPS for simplicity (no RLE here initially). BPS may follow for robustness.

## Contributing
Open issues with proposed palette sets or disassembly findings (addresses, bank numbers, routines). Keep discussions technical and copyright-safe.

## Running (After Setup)
```
uv sync  # or 'pip install -e .' if using pip
penta-colorize --help
```

## Emulators for Testing
- SameBoy (good CGB accuracy)
- BGB (debugger + VRAM/OAM viewer)
- mGBA (broad support)

## Next Steps
See `docs/research.md` for evolving notes. Begin by hashing the ROM and locating palette-relevant init code.
